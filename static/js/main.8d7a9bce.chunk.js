(this["webpackJsonpharmonic-series-calculator"]=this["webpackJsonpharmonic-series-calculator"]||[]).push([[0],{20:function(e,t,a){e.exports=a(32)},25:function(e,t,a){},26:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},27:function(e,t,a){},32:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(12),l=a.n(c),i=(a(25),a(13)),u=a(14),s=a(19),o=a(18),m=(a(26),a(27),a(15)),h=function(e){return Object(m.a)(e),r.a.createElement(r.a.Fragment,null,r.a.createElement("header",{className:"header"},r.a.createElement("h1",null,"Harmonic Series Pitch Calculator"),r.a.createElement("div",{className:"header__description"},r.a.createElement("p",null,"This tool will take a given pitch, provided in either Hz or"," ",r.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://en.wikipedia.org/wiki/Scientific_pitch_notation"},"scientific pitch notation,")," ","and calculate the pitches in its harmonic series. The output pitches are given as frequencies in Hz, along with their closest equal tempered pitches and their deviation from these pitches in cents."))))},p=a(35),f=a(34),d=a(17),v=a(36),E=function(e){var t=e.changeInputType,a=e.frequencyInput,n=e.frequency,c=e.handleInputChange,l=e.pitchName,i=e.numberOfPartials,u=e.calculate;return r.a.createElement(r.a.Fragment,null,r.a.createElement(p.a,{className:"user-frequency-input"},r.a.createElement("p",null,"Provide fundamental pitch as: "),r.a.createElement("div",{key:"custom-inline-radio",className:"mb-3"},r.a.createElement(p.a.Check,{checked:a,value:a,name:"inputType",onChange:function(){return t(!0)},custom:!0,inline:!0,label:"Frequency",type:"radio",id:"custom-inline-radio-1"}),r.a.createElement(p.a.Check,{name:"inputType",checked:!a,value:a,onChange:function(){return t(!1)},custom:!0,inline:!0,label:"Scientific notation",type:"radio",id:"custom-inline-radio-2"})),r.a.createElement("div",{className:"frequency-input"},a&&r.a.createElement(f.a,{className:"mb-3 user-input"},r.a.createElement(f.a.Prepend,null,r.a.createElement(f.a.Text,{id:"frequency-input"},"Frequency (Hz)")),r.a.createElement(d.a,{placeholder:"e.g. 55","aria-label":"frequency input","aria-describedby":"frequency-input",value:n,onChange:function(e){return c("frequency",e)}})),!a&&r.a.createElement(f.a,{className:"mb-3"},r.a.createElement(f.a.Prepend,null,r.a.createElement(f.a.Text,{id:"scientific-input"},"Pitch Name")),r.a.createElement(d.a,{placeholder:"e.g. A1","aria-label":"notation input","aria-describedby":"notation-input",value:l,onChange:function(e){return c("pitchName",e)}})),r.a.createElement("p",null,"Provide number of partials to display (max. 256): "),r.a.createElement(f.a,{className:"mb-3"},r.a.createElement(f.a.Prepend,null,r.a.createElement(f.a.Text,{id:"partial-input"},"Partials")),r.a.createElement(d.a,{"aria-label":"number of partials",value:i,onChange:function(e){return c("partials",e)}})),r.a.createElement(v.a,{onClick:u},"Calculate"))))},g=function(e){var t=e.partials;return r.a.createElement("table",null,r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Partial Number"),r.a.createElement("th",null,"Frequency (Hz)"),r.a.createElement("th",null,"Closest Tempered Pitch"),r.a.createElement("th",null,"Deviation from Tempered Pitch (cents)"))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",null,r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.frequency),r.a.createElement("td",null,e.pitch.pitchClass,r.a.createElement("sub",null,e.pitch.octave)),r.a.createElement("td",null,e.deviation))}))))},b=(a(31),function(e){var t=Array.from(e),a=t.shift().toUpperCase(),n="";"#"!==t[0]&&"b"!==t[0]||(n=t.shift());var r=12*(t.join("")-4),c=function(){switch(a){case"B":return 2;case"C":return-9;case"D":return-7;case"E":return-5;case"F":return-4;case"G":return-2;case"A":return 0}}()+function(){switch(n){case"#":return 1;case"b":return-1;default:return 0}}()+r;return(440*Math.pow(Math.pow(2,1/12),c)).toFixed(5)}),y=function(e,t){for(var a=[],n=0;n<=t;n+=1){var r=e*n;a.push({frequency:r,pitch:q(r),deviation:C(r)})}return a.splice(1,a.length-1)},q=function(e){console.log("calculation starts, frequency: ",e);var t=12/Math.log(2)*Math.log(e/440),a=Math.round(t)%12,n=function(){var e=a<0?a+12:a;switch(console.log("keep above twelve gives: ",e),e){case 12:return"A";case 1:return"A#/Bb";case 2:return"B";case 3:return"C";case 4:return"C#/Db";case 5:return"D";case 6:return"D#/Eb";case 7:return"E";case 8:return"F";case 9:return"F#/Gb";case 10:return"G";case 11:return"G#/Ab";default:return"A+"}};return{pitchClass:"A+"===n()?"A":n(),octave:function(){var e=n(),a=Math.floor(t/12)+4;console.log("pitchClass",e),console.log("stepOne returns ",a);return-1!==["A+","A#/Bb","B"].indexOf(e)?a:a+1}()}},C=function(e){var t=q(e),a=t.pitchClass.split("/")[0]+t.octave,n=b(a),r=1200/Math.log(2)*Math.log(e/n);return 0===r?r:r.toFixed(2)},P=function(e){Object(s.a)(a,e);var t=Object(o.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).changeInputType=function(e){n.setState({frequencyInput:e})},n.handleInputChange=function(e,t){switch(e){case"frequency":return n.setState({frequency:t.target.value,pitchName:""});case"pitchName":return n.setState({pitchName:t.target.value,frequency:""});case"partials":return n.setState({numberOfPartials:t.target.value})}},n.convert=function(){console.log("convert ran");var e=b(n.state.pitchName),t=y(e,n.state.numberOfPartials);console.log("partials produced",y(b(n.state.pitchName),n.state.numberOfPartials)),n.setState({frequency:e,partials:t})},n.calculatePartials=function(){console.log("calculatePartials ran"),console.log(y(n.state.frequency,n.state.numberOfPartials));var e=y(n.state.frequency,n.state.numberOfPartials);n.setState({partials:e})},n.state={frequencyInput:!0,frequency:"",numberOfPartials:32,pitchName:"",partials:[]},n}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(h,null),r.a.createElement(E,{changeInputType:this.changeInputType,frequencyInput:this.state.frequencyInput,frequency:this.state.frequency,pitchName:this.state.pitchName,handleInputChange:this.handleInputChange,numberOfPartials:this.state.numberOfPartials,calculate:this.state.frequencyInput?this.calculatePartials:this.convert}),this.state.partials!==[]&&r.a.createElement(g,{partials:this.state.partials}))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(P,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[20,1,2]]]);
//# sourceMappingURL=main.8d7a9bce.chunk.js.map